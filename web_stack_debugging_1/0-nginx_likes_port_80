#!/usr/bin/env bash
# This script installs Nginx, configures it to listen on port 80, and ensures it returns HTTP 200.

# Install Nginx
apt-get update
apt-get install -y nginx

# Start Nginx without using systemd (since it's not available in Docker containers)
service nginx start

# Ensure Nginx is listening on port 80
ss -tuln | grep :80

# Check if Nginx is running and responds with HTTP 200 on port 80
curl -s -o /dev/null -w "%{http_code}\n" http://localhost:80
